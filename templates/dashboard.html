<!DOCTYPE html>
<html lang="en">
<script>
    var toggle_list = [true, true, true, true, true, true, true, true, true, true, true, true, true, true, false, true, true, true, true, false, true, true, true, true, true, true]
    var idlist = ['eggs_match', 'feathers', 'chickenotes','weight','eggs_season','roboname', 'chickenoise', 'chickeneat', 'cycles', 'battery','logodvd', 'event_total_notes', 'event_trap_notes', 'event_high_score', 'spotlight_percent', 'global_total_notes', 'global_high_score', 'event_speaker_notes', 'global_amp_notes', 'event_travel', 'global_travel', 'event_alliance_score', 'global_amplified_speaker', 'compare_auto_notes', 'melody_rp']
    function updateColors(){
        for (let i = 0; i < idlist.length; i++) {
            console.log('updating: ', document.getElementById(idlist[i]))
            let property = document.getElementById(idlist[i])
            if (!toggle_list[i]){property.style.backgroundColor = "#ff0800"}
            else {property.style.backgroundColor = "#12b31d"}
        }
    }
    function setColor(btn, toggle_number) {
        var property = document.getElementById(btn);
        if (!toggle_list[toggle_number]) {
            property.style.backgroundColor = "#12b31d"
            toggle_list[toggle_number] = !toggle_list[toggle_number]
        }
        else {
            property.style.backgroundColor = "#ff0800"
            toggle_list[toggle_number] = !toggle_list[toggle_number]
        }
    }
    async function update() {
        console.log("update")
        updateColors()
        const response = await fetch('http://127.0.0.1:5001/fet', {
            method: "POST",
            mode: "cors",
            cache: "no-cache",
            credentials: "same-origin",
            headers: {
                "Content-Type": "application/json",
            },
            redirect: "follow",
            referrerPolicy: "no-referrer",
            body: JSON.stringify(toggle_list),
        });
        }
    setInterval(update(), 60000)
</script>

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@1.9.10"
        integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
        crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hensight Dashboard</title>
    <style>   

        h1 {
            color: white;
            font-size: large;
            font-family: Poppins;
            font-size: 5rem;
            margin: 1rem
        }

        h3 {
            color: #FFC145;
            font-size: 19rem;
            margin: 0rem;
            font-family: Poppins;
        }

        h2 {
            color: #FFC145;
            font-size: 10rem;
            margin: 0rem;
            font-family: Poppins;
        }

        h4 {
            color: white;
            font-family: Poppins;
            font-size: 2rem;
            margin: 1rem
        }

        p{
            color: white;
            font-family: Poppins;
            font-size: 1rem;
            margin: 0rem;
            padding-bottom: 0;
            padding-top: 2%;
        }
        #title {
            color: #FFC145;
        }

        .grid-container {
            display: grid;
            grid-template-columns: auto auto auto;
            row-gap: 1rem;
        }

        .switchbutton {
            background-color: #12b31d;
            font-family: Poppins;
            color: #FFFF;
        }

        button {
            border: none;
            color: white;
            padding: 2.5%;
            font-size: large;
            border-radius: 5%;
            transition: 100ms;
            margin-bottom: 1%;
        }

        button:hover {
            padding: 3.5%;
            margin-bottom: -1%;
        }

        #bigdiv{
            margin-top: -2%;
        }
        .indev {
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
            margin-bottom: 0;
        }
        body{
            margin: 0;
            visibility: visible;
            padding: 0;
            overflow: hidden;
            position: relative;
            border: 10px solid #FFC145;
            /* Adjust border width as needed */
            height: 100%;
            width: 98%;
            overflow-y: auto;
        }
    </style>
</head>

<body style="background-color: #1C1C1C;" onload="update()">
    <div id="maindiv">
        <div class="grid-container" onclick="update()">
            <center><img src="https://cultofthepartyparrot.com/parrots/hd/parrot.gif" alt="" style="padding-left: 50%;"></center>
            <center><h1 id="title">Hensight Dashboard</h1></center>
            <center><img src="https://cultofthepartyparrot.com/parrots/hd/reverseparrot.gif" alt=""style="padding-right: 50%;"></center>
        </div>
        <div class="grid-container" id="bigdiv">
            <div class="indev"><center><h4>Eggs in match</h4><button class="switchbutton" id="eggs_match" onclick="setColor('eggs_match', 1)">Toggle</button></center></div>
            <div class="indev"><center><h4>Feathers</h4><button class="switchbutton" id="feathers" onclick="setColor('feathers', 2)">Toggle</button></center></div>
            <div class="indev"><center><h4>Chicken Notes</h4><button class="switchbutton" id="chickenotes" onclick="setColor('chickenotes', 3)">Toggle</button></center></div>
            <div class="indev"><center><h4>Chicken Weight</h4><button class="switchbutton" id="weight" onclick="setColor('weight', 4)">Toggle</button></center></div>
            <div class="indev"><center><h4>Eggs in season</h4><button class="switchbutton" id="eggs_season" onclick="setColor('eggs_season', 5)">Toggle</button></center></div>
            <div class="indev"><center><h4>Robo Name</h4><button class="switchbutton" id="roboname" onclick="setColor('roboname', 6)">Toggle</button></center></div>
            <div class="indev"><center><h4>Chicken Noise</h4><button class="switchbutton" id="chickenoise" onclick="setColor('chickenoise', 7)">Toggle</button></center></div>
            <div class="indev"><center><h4>Chicken Eat</h4><button class="switchbutton" id="chickeneat" onclick="setColor('chickeneat', 8)">Toggle</button></center></div>
            <div class="indev"><center><h4>Chicken Cycles</h4><button class="switchbutton" id="cycles" onclick="setColor('cycles', 9)">Toggle</button></center></div>
            <div class="indev"><center><h4>Battery Charge</h4><button class="switchbutton" id="battery" onclick="setColor('battery', 10)">Toggle</button></center></div>
            <div class="indev"><center><h4>Logo DVD</h4><button class="switchbutton" id="logodvd" onclick="setColor('logodvd', 11)">Toggle</button></center></div>
            <div class="indev"><center><h4>Event Total Notes</h4><button class="switchbutton" id="event_total_notes" onclick="setColor('event_total_notes', 12)">Toggle</button></center></div>
            <div class="indev"><center><h4>Event Trap Notes</h4><button class="switchbutton" id="event_trap_notes" onclick="setColor('event_trap_notes', 13)">Toggle</button></center></div>
            <div class="indev"><center><h4>Event High Score</h4><button class="switchbutton" id="event_high_score" onclick="setColor('event_high_score', 14)">Toggle</button></center></div>
            <div class="indev"><center><h4>Spotlight Percent</h4><button class="switchbutton" id="spotlight_percent" onclick="setColor('spotlight_percent', 15)">Toggle</button></center></div>
            <div class="indev"><center><h4>Global Total Notes</h4><button class="switchbutton" id="global_total_notes" onclick="setColor('global_total_notes', 16)">Toggle</button></center></div>
            <div class="indev"><center><h4>Global High Score</h4><button class="switchbutton" id="global_high_score" onclick="setColor('global_high_score', 17)">Toggle</button></center></div>
            <div class="indev"><center><h4>Event Speaker Notes</h4><button class="switchbutton" id="event_speaker_notes" onclick="setColor('event_speaker_notes', 18)">Toggle</button></center></div>
            <div class="indev"><center><h4>Global Amp Notes</h4><button class="switchbutton" id="global_amp_notes" onclick="setColor('global_amp_notes', 19)">Toggle</button></center></div>
            <div class="indev"><center><h4>Event Travel</h4><button class="switchbutton" id="event_travel" onclick="setColor('event_travel', 20)">Toggle</button></center></div>
            <div class="indev"><center><h4>Global Travel</h4><button class="switchbutton" id="global_travel" onclick="setColor('global_travel', 21)">Toggle</button></center></div>
            <div class="indev"><center><h4>Event Alliance Score</h4><button class="switchbutton" id="event_alliance_score" onclick="setColor('event_alliance_score', 22)">Toggle</button></center></div>
            <div class="indev"><center><h4>Global Amplifed Speaker</h4><button class="switchbutton" id="global_amplified_speaker" onclick="setColor('global_amplified_speaker', 23)">Toggle</button></center></div>
            <div class="indev"><center><h4>Compare Auto Notes</h4><button class="switchbutton" id="compare_auto_notes" onclick="setColor('compare_auto_notes', 24)">Toggle</button></center></div>
            <div class="indev"><center><h4>Global Melody Percentage</h4><button class="switchbutton" id="melody_rp" onclick="setColor('melody_rp', 25)">Toggle</button></center></div>
        </div>
    </div>
</body>
<script src="https://unpkg.com/hyperscript"></script>

</html>