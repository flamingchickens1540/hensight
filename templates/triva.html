<link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet"
/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<link rel="stylesheet" href="/style.css" />
<script src="/common.js"></script>
<script>
    setInterval(getTime, 1000);
    let idle_secconds = 0;
    function incrementSeconds() {
        idle_secconds += 1;
        // console.log("idle for:", idle_secconds, "seccond");
        if (idle_secconds >= 60) {
            // window.location.replace("/");
        }
    }
    let cancel = setInterval(incrementSeconds, 1000);

    window.addEventListener("touchstart", () => {
        idle_secconds = 0;
        console.log("reset");
    });

    var data = {}
    var score = 0
    async function getQNA() {
        const response = await fetch("/getqna")
        data = await response.json()
        console.log("qna")
        // console.log(data)
        q.innerHTML = data['Q']
        a1.innerHTML = data['A1']
        a2.innerHTML = data['A2']
        a3.innerHTML = data['A3']
    }
    function sel1() {
        if (data['C'] == 1) {
            console.log('correct')
            score ++
            getQNA()
        }
        else {
            score = 0
            console.log('incorrect')
            getQNA()
        }
        num.innerHTML = score
    }
    function sel2() {
        if (data['C'] == 2) {
            console.log('correct')
            score ++
            getQNA()
        }        
        else {
            score = 0
            console.log('incorrect')
            getQNA()
        }
        num.innerHTML = score
    }
    function sel3() {
        if (data['C'] == 3) {
            console.log('correct')
            score ++
            getQNA()
        }
        else {
            score = 0
            console.log('incorrect')
            getQNA()
        }
        num.innerHTML = score
    }
    getQNA()
</script>
<body class="center-col" onclick="openFullscreen()" onload="getTime()">
    <h1 id="num" >0</h1>
    <h1 style="text-align: center; font-size: 5rem;" id="q">Loading Question...</h1>
    <div class="flex-row-auto">
        <button id="a1" onclick="sel1()">Loading Answer 1...</button>
        <button id="a2" onclick="sel2()">Loading Answer 2...</button>
        <button id="a3" onclick="sel3()">Loading Answer 3...</button>
    </div>
    <div class="flex-row-auto">
        <h1 style="text-align: center; font-size: 7rem;" id="title">Hensight</h1>
        <h1 style="text-align: center; font-size: 7rem;" id="time"></h1>
    </div>
</body>

<style>
    #title {
        background-image: linear-gradient(to bottom right, #F6B14B, #FF4848);
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    #num {
        position: absolute;
        right: 5%;
        bottom: 5%;
        font-size: 7rem;
        color: white;
    }
</style>